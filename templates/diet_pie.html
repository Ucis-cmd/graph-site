

<style>

</style>

<div id="fig_el1539624770306371364130482373"></div>
<script>
function mpld3_load_lib(url, callback){
  var s = document.createElement('script');
  s.src = url;
  s.async = true;
  s.onreadystatechange = s.onload = callback;
  s.onerror = function(){console.warn("failed to load library " + url);};
  document.getElementsByTagName("head")[0].appendChild(s);
}

if(typeof(mpld3) !== "undefined" && mpld3._mpld3IsLoaded){
   // already loaded: just create the figure
   !function(mpld3){
       
    mpld3.register_plugin("highlightPie", HighlightPiePlugin);
    HighlightPiePlugin.prototype = Object.create(mpld3.Plugin.prototype);
    HighlightPiePlugin.prototype.constructor = HighlightPiePlugin;
    HighlightPiePlugin.prototype.requiredProps = ["id", "link"];
    HighlightPiePlugin.prototype.defaultProps = {};

    function HighlightPiePlugin(fig, props) {
        mpld3.Plugin.call(this, fig, props);
    };

    HighlightPiePlugin.prototype.draw = function() {
        var obj = mpld3.get_element(this.props.id);
        console.log(this.props.id);
        var pies = obj.elements();

        // Capture the correct `this` context
        var self = this;

        pies.each(function() {
        var originalFill = d3.select(this).style("fill");
        d3.select(this).attr("original-fill", originalFill);
    });

        pies.on("mouseover", function(d, i) {
            d3.select(this).style("fill", "orange");
        }).on("mouseout", function(d, i) {
            d3.select(this).style("fill", d3.select(this).attr("original-fill"));
        }).on("click", function(d, i) {
            // Use `self.props` instead of `this.props`
            window.location.href = self.props.link;
        });
    };
    
    mpld3.register_plugin("highlightPie", HighlightPiePlugin);
    HighlightPiePlugin.prototype = Object.create(mpld3.Plugin.prototype);
    HighlightPiePlugin.prototype.constructor = HighlightPiePlugin;
    HighlightPiePlugin.prototype.requiredProps = ["id", "link"];
    HighlightPiePlugin.prototype.defaultProps = {};

    function HighlightPiePlugin(fig, props) {
        mpld3.Plugin.call(this, fig, props);
    };

    HighlightPiePlugin.prototype.draw = function() {
        var obj = mpld3.get_element(this.props.id);
        console.log(this.props.id);
        var pies = obj.elements();

        // Capture the correct `this` context
        var self = this;

        pies.each(function() {
        var originalFill = d3.select(this).style("fill");
        d3.select(this).attr("original-fill", originalFill);
    });

        pies.on("mouseover", function(d, i) {
            d3.select(this).style("fill", "orange");
        }).on("mouseout", function(d, i) {
            d3.select(this).style("fill", d3.select(this).attr("original-fill"));
        }).on("click", function(d, i) {
            // Use `self.props` instead of `this.props`
            window.location.href = self.props.link;
        });
    };
    
    mpld3.register_plugin("highlightPie", HighlightPiePlugin);
    HighlightPiePlugin.prototype = Object.create(mpld3.Plugin.prototype);
    HighlightPiePlugin.prototype.constructor = HighlightPiePlugin;
    HighlightPiePlugin.prototype.requiredProps = ["id", "link"];
    HighlightPiePlugin.prototype.defaultProps = {};

    function HighlightPiePlugin(fig, props) {
        mpld3.Plugin.call(this, fig, props);
    };

    HighlightPiePlugin.prototype.draw = function() {
        var obj = mpld3.get_element(this.props.id);
        console.log(this.props.id);
        var pies = obj.elements();

        // Capture the correct `this` context
        var self = this;

        pies.each(function() {
        var originalFill = d3.select(this).style("fill");
        d3.select(this).attr("original-fill", originalFill);
    });

        pies.on("mouseover", function(d, i) {
            d3.select(this).style("fill", "orange");
        }).on("mouseout", function(d, i) {
            d3.select(this).style("fill", d3.select(this).attr("original-fill"));
        }).on("click", function(d, i) {
            // Use `self.props` instead of `this.props`
            window.location.href = self.props.link;
        });
    };
    
       mpld3.draw_figure("fig_el1539624770306371364130482373", {"width": 640.0, "height": 480.0, "axes": [{"bbox": [0.22375, 0.10999999999999999, 0.5775, 0.77], "xlim": [-1.25, 1.25], "ylim": [-1.25, 1.25], "xdomain": [-1.25, 1.25], "ydomain": [-1.25, 1.25], "xscale": "linear", "yscale": "linear", "axes": [{"position": "bottom", "nticks": 0, "tickvalues": [], "tickformat_formatter": "", "tickformat": "", "scale": "linear", "fontsize": null, "grid": {"gridOn": false}, "visible": true}, {"position": "left", "nticks": 0, "tickvalues": [], "tickformat_formatter": "", "tickformat": "", "scale": "linear", "fontsize": null, "grid": {"gridOn": false}, "visible": true}], "axesbg": "#FFFFFF", "axesbgalpha": null, "zoomable": true, "id": "el153962477030631904", "lines": [], "paths": [{"data": "data01", "xindex": 0, "yindex": 1, "coordinates": "data", "pathcodes": ["M", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "L", "Z"], "id": "el153962477034881712", "dasharray": "none", "alpha": 1, "facecolor": "#1F77B4", "edgecolor": "none", "edgewidth": 1.0, "zorder": 1}, {"data": "data02", "xindex": 0, "yindex": 1, "coordinates": "data", "pathcodes": ["M", "C", "C", "L", "Z"], "id": "el153962477034881520", "dasharray": "none", "alpha": 1, "facecolor": "#FF7F0E", "edgecolor": "none", "edgewidth": 1.0, "zorder": 1}, {"data": "data03", "xindex": 0, "yindex": 1, "coordinates": "data", "pathcodes": ["M", "C", "C", "L", "Z"], "id": "el153962477034885024", "dasharray": "none", "alpha": 1, "facecolor": "#2CA02C", "edgecolor": "none", "edgewidth": 1.0, "zorder": 1}], "markers": [], "texts": [{"text": "herbivorous", "position": [-1.0592090582298548, 0.2967762978470896], "coordinates": "data", "h_anchor": "end", "v_baseline": "central", "rotation": -0.0, "fontsize": 10.0, "color": "#000000", "alpha": 1, "zorder": 3, "id": "el153962477034882432"}, {"text": "91.3%", "position": [-0.5777503953981025, 0.16187798064386705], "coordinates": "data", "h_anchor": "middle", "v_baseline": "central", "rotation": -0.0, "fontsize": 10.0, "color": "#000000", "alpha": 1, "zorder": 3, "id": "el153962477034882864"}, {"text": "herbivorous/omnivorous", "position": [0.9649010078558913, -0.528172363001592], "coordinates": "data", "h_anchor": "start", "v_baseline": "central", "rotation": -0.0, "fontsize": 10.0, "color": "#000000", "alpha": 1, "zorder": 3, "id": "el153962477034884064"}, {"text": "1.4%", "position": [0.5263096406486679, -0.28809401618268654], "coordinates": "data", "h_anchor": "middle", "v_baseline": "central", "rotation": -0.0, "fontsize": 10.0, "color": "#000000", "alpha": 1, "zorder": 3, "id": "el153962477034884496"}, {"text": "omnivorous", "position": [1.0716190456424552, -0.24825918113204512], "coordinates": "data", "h_anchor": "start", "v_baseline": "central", "rotation": -0.0, "fontsize": 10.0, "color": "#000000", "alpha": 1, "zorder": 3, "id": "el153962477034885744"}, {"text": "7.2%", "position": [0.5845194794413392, -0.13541409879929733], "coordinates": "data", "h_anchor": "middle", "v_baseline": "central", "rotation": -0.0, "fontsize": 10.0, "color": "#000000", "alpha": 1, "zorder": 3, "id": "el153962477034886176"}], "collections": [], "images": [], "sharex": [], "sharey": []}], "data": {"data01": [[1.0, 0.0], [1.0, 0.11983629970155225], [0.9784588919107596, 0.2387026090492701], [0.9364061701619291, 0.35091805949917776], [0.8943534484130985, 0.4631335099490854], [0.8324698872700786, 0.5668814915965267], [0.7537130310346631, 0.6572036722725619], [0.6749561747992476, 0.7475258529485972], [0.5806009859166543, 0.8229600439139005], [0.4751568954226869, 0.8799010880390328], [0.3697128049287195, 0.936842132164165], [0.25488680395883034, 0.9743682342388903], [0.136166666302918, 0.990685943671328], [0.017446528647005605, 1.0070036531037658], [-0.10324583407684888, 1.0018488091882607], [-0.22014228242982128, 0.9754677726540169], [-0.33703873078279367, 0.949086736119773], [-0.44824687610498265, 0.9019065787476465], [-0.5484518494645475, 0.8361821385433423], [-0.6486568228241124, 0.7704576983390382], [-0.7362364470041818, 0.6872529613096032], [-0.8070051093208259, 0.5905444551683487], [-0.8777737716374701, 0.4938359490270943], [-0.9305858272406413, 0.3851892481170931], [-0.9629172779758995, 0.26979680460577027], [-0.9952487287111578, 0.15440436109444747], [-1.0065761739825771, 0.03413421592415704], [-0.9963582515834974, -0.08526567012271756], [-0.9861403291844177, -0.20466555616959214], [-0.9545424528699037, -0.3212622673070522], [-0.9030747509731776, -0.4294834038175786], [-0.8516070490764515, -0.537704540328105], [-0.7811027111151833, -0.6357981546172268], [-0.6949312862739645, -0.7190761485111388], [-0.6087598614327457, -0.8023541424050508], [-0.5083163435670328, -0.8694683626152262], [-0.39840113763783463, -0.9172112807466332], [-0.2884859317086365, -0.9649541988780401], [-0.1708784099054581, -0.9925529244097478], [-0.051199280693236496, -0.9986884567554064], [0.0684798485189851, -1.004823989101065], [0.1882931488011722, -0.989397002643883], [0.30251449293983623, -0.9531447852038817], [0.41673583707850026, -0.9168925677638804], [0.5235161425787307, -0.8604019916211528], [0.6177521561977772, -0.7863728590897558], [0.7119881698168238, -0.7123437265583589], [0.7921543433790181, -0.6219744649034371], [0.8544193684490317, -0.5195840093951679], [0.0, 0.0]], "data02": [[0.8544192910194397, -0.5195841193199158], [0.8623052835464478, -0.5066161751747131], [0.8698949217796326, -0.49347054958343506], [0.8771824836730957, -0.48015710711479187], [0.8844700455665588, -0.4668436646461487], [0.8914538025856018, -0.45336583256721497], [0.8981278538703918, -0.43973448872566223], [0.0, 0.0]], "data03": [[0.8981278538703918, -0.43973448872566223], [0.931532621383667, -0.37150758504867554], [0.9570543766021729, -0.2996958792209625], [0.974199116230011, -0.22569015622138977], [0.9913438558578491, -0.15168443322181702], [1.0, -0.0759655237197876], [1.0, 1.7484555314695172e-07], [0.0, 0.0]]}, "id": "el153962477030637136", "plugins": [{"type": "reset"}, {"type": "zoom", "button": true, "enabled": false}, {"type": "boxzoom", "button": true, "enabled": false}, {"type": "highlightPie", "id": "el153962477034881712", "link": "/sauropod/herbivorous"}, {"type": "highlightPie", "id": "el153962477034881520", "link": "/sauropod/herbivorous/omnivorous"}, {"type": "highlightPie", "id": "el153962477034885024", "link": "/sauropod/omnivorous"}]});
   }(mpld3);
}else if(typeof define === "function" && define.amd){
   // require.js is available: use it to load d3/mpld3
   require.config({paths: {d3: "https://d3js.org/d3.v5"}});
   require(["d3"], function(d3){
      window.d3 = d3;
      mpld3_load_lib("https://mpld3.github.io/js/mpld3.v0.5.10.js", function(){
         
    mpld3.register_plugin("highlightPie", HighlightPiePlugin);
    HighlightPiePlugin.prototype = Object.create(mpld3.Plugin.prototype);
    HighlightPiePlugin.prototype.constructor = HighlightPiePlugin;
    HighlightPiePlugin.prototype.requiredProps = ["id", "link"];
    HighlightPiePlugin.prototype.defaultProps = {};

    function HighlightPiePlugin(fig, props) {
        mpld3.Plugin.call(this, fig, props);
    };

    HighlightPiePlugin.prototype.draw = function() {
        var obj = mpld3.get_element(this.props.id);
        console.log(this.props.id);
        var pies = obj.elements();

        // Capture the correct `this` context
        var self = this;

        pies.each(function() {
        var originalFill = d3.select(this).style("fill");
        d3.select(this).attr("original-fill", originalFill);
    });

        pies.on("mouseover", function(d, i) {
            d3.select(this).style("fill", "orange");
        }).on("mouseout", function(d, i) {
            d3.select(this).style("fill", d3.select(this).attr("original-fill"));
        }).on("click", function(d, i) {
            // Use `self.props` instead of `this.props`
            window.location.href = self.props.link;
        });
    };
    
    mpld3.register_plugin("highlightPie", HighlightPiePlugin);
    HighlightPiePlugin.prototype = Object.create(mpld3.Plugin.prototype);
    HighlightPiePlugin.prototype.constructor = HighlightPiePlugin;
    HighlightPiePlugin.prototype.requiredProps = ["id", "link"];
    HighlightPiePlugin.prototype.defaultProps = {};

    function HighlightPiePlugin(fig, props) {
        mpld3.Plugin.call(this, fig, props);
    };

    HighlightPiePlugin.prototype.draw = function() {
        var obj = mpld3.get_element(this.props.id);
        console.log(this.props.id);
        var pies = obj.elements();

        // Capture the correct `this` context
        var self = this;

        pies.each(function() {
        var originalFill = d3.select(this).style("fill");
        d3.select(this).attr("original-fill", originalFill);
    });

        pies.on("mouseover", function(d, i) {
            d3.select(this).style("fill", "orange");
        }).on("mouseout", function(d, i) {
            d3.select(this).style("fill", d3.select(this).attr("original-fill"));
        }).on("click", function(d, i) {
            // Use `self.props` instead of `this.props`
            window.location.href = self.props.link;
        });
    };
    
    mpld3.register_plugin("highlightPie", HighlightPiePlugin);
    HighlightPiePlugin.prototype = Object.create(mpld3.Plugin.prototype);
    HighlightPiePlugin.prototype.constructor = HighlightPiePlugin;
    HighlightPiePlugin.prototype.requiredProps = ["id", "link"];
    HighlightPiePlugin.prototype.defaultProps = {};

    function HighlightPiePlugin(fig, props) {
        mpld3.Plugin.call(this, fig, props);
    };

    HighlightPiePlugin.prototype.draw = function() {
        var obj = mpld3.get_element(this.props.id);
        console.log(this.props.id);
        var pies = obj.elements();

        // Capture the correct `this` context
        var self = this;

        pies.each(function() {
        var originalFill = d3.select(this).style("fill");
        d3.select(this).attr("original-fill", originalFill);
    });

        pies.on("mouseover", function(d, i) {
            d3.select(this).style("fill", "orange");
        }).on("mouseout", function(d, i) {
            d3.select(this).style("fill", d3.select(this).attr("original-fill"));
        }).on("click", function(d, i) {
            // Use `self.props` instead of `this.props`
            window.location.href = self.props.link;
        });
    };
    
         mpld3.draw_figure("fig_el1539624770306371364130482373", {"width": 640.0, "height": 480.0, "axes": [{"bbox": [0.22375, 0.10999999999999999, 0.5775, 0.77], "xlim": [-1.25, 1.25], "ylim": [-1.25, 1.25], "xdomain": [-1.25, 1.25], "ydomain": [-1.25, 1.25], "xscale": "linear", "yscale": "linear", "axes": [{"position": "bottom", "nticks": 0, "tickvalues": [], "tickformat_formatter": "", "tickformat": "", "scale": "linear", "fontsize": null, "grid": {"gridOn": false}, "visible": true}, {"position": "left", "nticks": 0, "tickvalues": [], "tickformat_formatter": "", "tickformat": "", "scale": "linear", "fontsize": null, "grid": {"gridOn": false}, "visible": true}], "axesbg": "#FFFFFF", "axesbgalpha": null, "zoomable": true, "id": "el153962477030631904", "lines": [], "paths": [{"data": "data01", "xindex": 0, "yindex": 1, "coordinates": "data", "pathcodes": ["M", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "L", "Z"], "id": "el153962477034881712", "dasharray": "none", "alpha": 1, "facecolor": "#1F77B4", "edgecolor": "none", "edgewidth": 1.0, "zorder": 1}, {"data": "data02", "xindex": 0, "yindex": 1, "coordinates": "data", "pathcodes": ["M", "C", "C", "L", "Z"], "id": "el153962477034881520", "dasharray": "none", "alpha": 1, "facecolor": "#FF7F0E", "edgecolor": "none", "edgewidth": 1.0, "zorder": 1}, {"data": "data03", "xindex": 0, "yindex": 1, "coordinates": "data", "pathcodes": ["M", "C", "C", "L", "Z"], "id": "el153962477034885024", "dasharray": "none", "alpha": 1, "facecolor": "#2CA02C", "edgecolor": "none", "edgewidth": 1.0, "zorder": 1}], "markers": [], "texts": [{"text": "herbivorous", "position": [-1.0592090582298548, 0.2967762978470896], "coordinates": "data", "h_anchor": "end", "v_baseline": "central", "rotation": -0.0, "fontsize": 10.0, "color": "#000000", "alpha": 1, "zorder": 3, "id": "el153962477034882432"}, {"text": "91.3%", "position": [-0.5777503953981025, 0.16187798064386705], "coordinates": "data", "h_anchor": "middle", "v_baseline": "central", "rotation": -0.0, "fontsize": 10.0, "color": "#000000", "alpha": 1, "zorder": 3, "id": "el153962477034882864"}, {"text": "herbivorous/omnivorous", "position": [0.9649010078558913, -0.528172363001592], "coordinates": "data", "h_anchor": "start", "v_baseline": "central", "rotation": -0.0, "fontsize": 10.0, "color": "#000000", "alpha": 1, "zorder": 3, "id": "el153962477034884064"}, {"text": "1.4%", "position": [0.5263096406486679, -0.28809401618268654], "coordinates": "data", "h_anchor": "middle", "v_baseline": "central", "rotation": -0.0, "fontsize": 10.0, "color": "#000000", "alpha": 1, "zorder": 3, "id": "el153962477034884496"}, {"text": "omnivorous", "position": [1.0716190456424552, -0.24825918113204512], "coordinates": "data", "h_anchor": "start", "v_baseline": "central", "rotation": -0.0, "fontsize": 10.0, "color": "#000000", "alpha": 1, "zorder": 3, "id": "el153962477034885744"}, {"text": "7.2%", "position": [0.5845194794413392, -0.13541409879929733], "coordinates": "data", "h_anchor": "middle", "v_baseline": "central", "rotation": -0.0, "fontsize": 10.0, "color": "#000000", "alpha": 1, "zorder": 3, "id": "el153962477034886176"}], "collections": [], "images": [], "sharex": [], "sharey": []}], "data": {"data01": [[1.0, 0.0], [1.0, 0.11983629970155225], [0.9784588919107596, 0.2387026090492701], [0.9364061701619291, 0.35091805949917776], [0.8943534484130985, 0.4631335099490854], [0.8324698872700786, 0.5668814915965267], [0.7537130310346631, 0.6572036722725619], [0.6749561747992476, 0.7475258529485972], [0.5806009859166543, 0.8229600439139005], [0.4751568954226869, 0.8799010880390328], [0.3697128049287195, 0.936842132164165], [0.25488680395883034, 0.9743682342388903], [0.136166666302918, 0.990685943671328], [0.017446528647005605, 1.0070036531037658], [-0.10324583407684888, 1.0018488091882607], [-0.22014228242982128, 0.9754677726540169], [-0.33703873078279367, 0.949086736119773], [-0.44824687610498265, 0.9019065787476465], [-0.5484518494645475, 0.8361821385433423], [-0.6486568228241124, 0.7704576983390382], [-0.7362364470041818, 0.6872529613096032], [-0.8070051093208259, 0.5905444551683487], [-0.8777737716374701, 0.4938359490270943], [-0.9305858272406413, 0.3851892481170931], [-0.9629172779758995, 0.26979680460577027], [-0.9952487287111578, 0.15440436109444747], [-1.0065761739825771, 0.03413421592415704], [-0.9963582515834974, -0.08526567012271756], [-0.9861403291844177, -0.20466555616959214], [-0.9545424528699037, -0.3212622673070522], [-0.9030747509731776, -0.4294834038175786], [-0.8516070490764515, -0.537704540328105], [-0.7811027111151833, -0.6357981546172268], [-0.6949312862739645, -0.7190761485111388], [-0.6087598614327457, -0.8023541424050508], [-0.5083163435670328, -0.8694683626152262], [-0.39840113763783463, -0.9172112807466332], [-0.2884859317086365, -0.9649541988780401], [-0.1708784099054581, -0.9925529244097478], [-0.051199280693236496, -0.9986884567554064], [0.0684798485189851, -1.004823989101065], [0.1882931488011722, -0.989397002643883], [0.30251449293983623, -0.9531447852038817], [0.41673583707850026, -0.9168925677638804], [0.5235161425787307, -0.8604019916211528], [0.6177521561977772, -0.7863728590897558], [0.7119881698168238, -0.7123437265583589], [0.7921543433790181, -0.6219744649034371], [0.8544193684490317, -0.5195840093951679], [0.0, 0.0]], "data02": [[0.8544192910194397, -0.5195841193199158], [0.8623052835464478, -0.5066161751747131], [0.8698949217796326, -0.49347054958343506], [0.8771824836730957, -0.48015710711479187], [0.8844700455665588, -0.4668436646461487], [0.8914538025856018, -0.45336583256721497], [0.8981278538703918, -0.43973448872566223], [0.0, 0.0]], "data03": [[0.8981278538703918, -0.43973448872566223], [0.931532621383667, -0.37150758504867554], [0.9570543766021729, -0.2996958792209625], [0.974199116230011, -0.22569015622138977], [0.9913438558578491, -0.15168443322181702], [1.0, -0.0759655237197876], [1.0, 1.7484555314695172e-07], [0.0, 0.0]]}, "id": "el153962477030637136", "plugins": [{"type": "reset"}, {"type": "zoom", "button": true, "enabled": false}, {"type": "boxzoom", "button": true, "enabled": false}, {"type": "highlightPie", "id": "el153962477034881712", "link": "/sauropod/herbivorous"}, {"type": "highlightPie", "id": "el153962477034881520", "link": "/sauropod/herbivorous/omnivorous"}, {"type": "highlightPie", "id": "el153962477034885024", "link": "/sauropod/omnivorous"}]});
      });
    });
}else{
    // require.js not available: dynamically load d3 & mpld3
    mpld3_load_lib("https://d3js.org/d3.v5.js", function(){
         mpld3_load_lib("https://mpld3.github.io/js/mpld3.v0.5.10.js", function(){
                 
    mpld3.register_plugin("highlightPie", HighlightPiePlugin);
    HighlightPiePlugin.prototype = Object.create(mpld3.Plugin.prototype);
    HighlightPiePlugin.prototype.constructor = HighlightPiePlugin;
    HighlightPiePlugin.prototype.requiredProps = ["id", "link"];
    HighlightPiePlugin.prototype.defaultProps = {};

    function HighlightPiePlugin(fig, props) {
        mpld3.Plugin.call(this, fig, props);
    };

    HighlightPiePlugin.prototype.draw = function() {
        var obj = mpld3.get_element(this.props.id);
        console.log(this.props.id);
        var pies = obj.elements();

        // Capture the correct `this` context
        var self = this;

        pies.each(function() {
        var originalFill = d3.select(this).style("fill");
        d3.select(this).attr("original-fill", originalFill);
    });

        pies.on("mouseover", function(d, i) {
            d3.select(this).style("fill", "orange");
        }).on("mouseout", function(d, i) {
            d3.select(this).style("fill", d3.select(this).attr("original-fill"));
        }).on("click", function(d, i) {
            // Use `self.props` instead of `this.props`
            window.location.href = self.props.link;
        });
    };
    
    mpld3.register_plugin("highlightPie", HighlightPiePlugin);
    HighlightPiePlugin.prototype = Object.create(mpld3.Plugin.prototype);
    HighlightPiePlugin.prototype.constructor = HighlightPiePlugin;
    HighlightPiePlugin.prototype.requiredProps = ["id", "link"];
    HighlightPiePlugin.prototype.defaultProps = {};

    function HighlightPiePlugin(fig, props) {
        mpld3.Plugin.call(this, fig, props);
    };

    HighlightPiePlugin.prototype.draw = function() {
        var obj = mpld3.get_element(this.props.id);
        console.log(this.props.id);
        var pies = obj.elements();

        // Capture the correct `this` context
        var self = this;

        pies.each(function() {
        var originalFill = d3.select(this).style("fill");
        d3.select(this).attr("original-fill", originalFill);
    });

        pies.on("mouseover", function(d, i) {
            d3.select(this).style("fill", "orange");
        }).on("mouseout", function(d, i) {
            d3.select(this).style("fill", d3.select(this).attr("original-fill"));
        }).on("click", function(d, i) {
            // Use `self.props` instead of `this.props`
            window.location.href = self.props.link;
        });
    };
    
    mpld3.register_plugin("highlightPie", HighlightPiePlugin);
    HighlightPiePlugin.prototype = Object.create(mpld3.Plugin.prototype);
    HighlightPiePlugin.prototype.constructor = HighlightPiePlugin;
    HighlightPiePlugin.prototype.requiredProps = ["id", "link"];
    HighlightPiePlugin.prototype.defaultProps = {};

    function HighlightPiePlugin(fig, props) {
        mpld3.Plugin.call(this, fig, props);
    };

    HighlightPiePlugin.prototype.draw = function() {
        var obj = mpld3.get_element(this.props.id);
        console.log(this.props.id);
        var pies = obj.elements();

        // Capture the correct `this` context
        var self = this;

        pies.each(function() {
        var originalFill = d3.select(this).style("fill");
        d3.select(this).attr("original-fill", originalFill);
    });

        pies.on("mouseover", function(d, i) {
            d3.select(this).style("fill", "orange");
        }).on("mouseout", function(d, i) {
            d3.select(this).style("fill", d3.select(this).attr("original-fill"));
        }).on("click", function(d, i) {
            // Use `self.props` instead of `this.props`
            window.location.href = self.props.link;
        });
    };
    
                 mpld3.draw_figure("fig_el1539624770306371364130482373", {"width": 640.0, "height": 480.0, "axes": [{"bbox": [0.22375, 0.10999999999999999, 0.5775, 0.77], "xlim": [-1.25, 1.25], "ylim": [-1.25, 1.25], "xdomain": [-1.25, 1.25], "ydomain": [-1.25, 1.25], "xscale": "linear", "yscale": "linear", "axes": [{"position": "bottom", "nticks": 0, "tickvalues": [], "tickformat_formatter": "", "tickformat": "", "scale": "linear", "fontsize": null, "grid": {"gridOn": false}, "visible": true}, {"position": "left", "nticks": 0, "tickvalues": [], "tickformat_formatter": "", "tickformat": "", "scale": "linear", "fontsize": null, "grid": {"gridOn": false}, "visible": true}], "axesbg": "#FFFFFF", "axesbgalpha": null, "zoomable": true, "id": "el153962477030631904", "lines": [], "paths": [{"data": "data01", "xindex": 0, "yindex": 1, "coordinates": "data", "pathcodes": ["M", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "C", "L", "Z"], "id": "el153962477034881712", "dasharray": "none", "alpha": 1, "facecolor": "#1F77B4", "edgecolor": "none", "edgewidth": 1.0, "zorder": 1}, {"data": "data02", "xindex": 0, "yindex": 1, "coordinates": "data", "pathcodes": ["M", "C", "C", "L", "Z"], "id": "el153962477034881520", "dasharray": "none", "alpha": 1, "facecolor": "#FF7F0E", "edgecolor": "none", "edgewidth": 1.0, "zorder": 1}, {"data": "data03", "xindex": 0, "yindex": 1, "coordinates": "data", "pathcodes": ["M", "C", "C", "L", "Z"], "id": "el153962477034885024", "dasharray": "none", "alpha": 1, "facecolor": "#2CA02C", "edgecolor": "none", "edgewidth": 1.0, "zorder": 1}], "markers": [], "texts": [{"text": "herbivorous", "position": [-1.0592090582298548, 0.2967762978470896], "coordinates": "data", "h_anchor": "end", "v_baseline": "central", "rotation": -0.0, "fontsize": 10.0, "color": "#000000", "alpha": 1, "zorder": 3, "id": "el153962477034882432"}, {"text": "91.3%", "position": [-0.5777503953981025, 0.16187798064386705], "coordinates": "data", "h_anchor": "middle", "v_baseline": "central", "rotation": -0.0, "fontsize": 10.0, "color": "#000000", "alpha": 1, "zorder": 3, "id": "el153962477034882864"}, {"text": "herbivorous/omnivorous", "position": [0.9649010078558913, -0.528172363001592], "coordinates": "data", "h_anchor": "start", "v_baseline": "central", "rotation": -0.0, "fontsize": 10.0, "color": "#000000", "alpha": 1, "zorder": 3, "id": "el153962477034884064"}, {"text": "1.4%", "position": [0.5263096406486679, -0.28809401618268654], "coordinates": "data", "h_anchor": "middle", "v_baseline": "central", "rotation": -0.0, "fontsize": 10.0, "color": "#000000", "alpha": 1, "zorder": 3, "id": "el153962477034884496"}, {"text": "omnivorous", "position": [1.0716190456424552, -0.24825918113204512], "coordinates": "data", "h_anchor": "start", "v_baseline": "central", "rotation": -0.0, "fontsize": 10.0, "color": "#000000", "alpha": 1, "zorder": 3, "id": "el153962477034885744"}, {"text": "7.2%", "position": [0.5845194794413392, -0.13541409879929733], "coordinates": "data", "h_anchor": "middle", "v_baseline": "central", "rotation": -0.0, "fontsize": 10.0, "color": "#000000", "alpha": 1, "zorder": 3, "id": "el153962477034886176"}], "collections": [], "images": [], "sharex": [], "sharey": []}], "data": {"data01": [[1.0, 0.0], [1.0, 0.11983629970155225], [0.9784588919107596, 0.2387026090492701], [0.9364061701619291, 0.35091805949917776], [0.8943534484130985, 0.4631335099490854], [0.8324698872700786, 0.5668814915965267], [0.7537130310346631, 0.6572036722725619], [0.6749561747992476, 0.7475258529485972], [0.5806009859166543, 0.8229600439139005], [0.4751568954226869, 0.8799010880390328], [0.3697128049287195, 0.936842132164165], [0.25488680395883034, 0.9743682342388903], [0.136166666302918, 0.990685943671328], [0.017446528647005605, 1.0070036531037658], [-0.10324583407684888, 1.0018488091882607], [-0.22014228242982128, 0.9754677726540169], [-0.33703873078279367, 0.949086736119773], [-0.44824687610498265, 0.9019065787476465], [-0.5484518494645475, 0.8361821385433423], [-0.6486568228241124, 0.7704576983390382], [-0.7362364470041818, 0.6872529613096032], [-0.8070051093208259, 0.5905444551683487], [-0.8777737716374701, 0.4938359490270943], [-0.9305858272406413, 0.3851892481170931], [-0.9629172779758995, 0.26979680460577027], [-0.9952487287111578, 0.15440436109444747], [-1.0065761739825771, 0.03413421592415704], [-0.9963582515834974, -0.08526567012271756], [-0.9861403291844177, -0.20466555616959214], [-0.9545424528699037, -0.3212622673070522], [-0.9030747509731776, -0.4294834038175786], [-0.8516070490764515, -0.537704540328105], [-0.7811027111151833, -0.6357981546172268], [-0.6949312862739645, -0.7190761485111388], [-0.6087598614327457, -0.8023541424050508], [-0.5083163435670328, -0.8694683626152262], [-0.39840113763783463, -0.9172112807466332], [-0.2884859317086365, -0.9649541988780401], [-0.1708784099054581, -0.9925529244097478], [-0.051199280693236496, -0.9986884567554064], [0.0684798485189851, -1.004823989101065], [0.1882931488011722, -0.989397002643883], [0.30251449293983623, -0.9531447852038817], [0.41673583707850026, -0.9168925677638804], [0.5235161425787307, -0.8604019916211528], [0.6177521561977772, -0.7863728590897558], [0.7119881698168238, -0.7123437265583589], [0.7921543433790181, -0.6219744649034371], [0.8544193684490317, -0.5195840093951679], [0.0, 0.0]], "data02": [[0.8544192910194397, -0.5195841193199158], [0.8623052835464478, -0.5066161751747131], [0.8698949217796326, -0.49347054958343506], [0.8771824836730957, -0.48015710711479187], [0.8844700455665588, -0.4668436646461487], [0.8914538025856018, -0.45336583256721497], [0.8981278538703918, -0.43973448872566223], [0.0, 0.0]], "data03": [[0.8981278538703918, -0.43973448872566223], [0.931532621383667, -0.37150758504867554], [0.9570543766021729, -0.2996958792209625], [0.974199116230011, -0.22569015622138977], [0.9913438558578491, -0.15168443322181702], [1.0, -0.0759655237197876], [1.0, 1.7484555314695172e-07], [0.0, 0.0]]}, "id": "el153962477030637136", "plugins": [{"type": "reset"}, {"type": "zoom", "button": true, "enabled": false}, {"type": "boxzoom", "button": true, "enabled": false}, {"type": "highlightPie", "id": "el153962477034881712", "link": "/sauropod/herbivorous"}, {"type": "highlightPie", "id": "el153962477034881520", "link": "/sauropod/herbivorous/omnivorous"}, {"type": "highlightPie", "id": "el153962477034885024", "link": "/sauropod/omnivorous"}]});
            })
         });
}
</script>